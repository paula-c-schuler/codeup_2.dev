<!DOCTYPE html>
<html>
<head>
	<title>weather map test</title>
<style type="text/css">
	html, body { height: 100%; margin: 0; padding: 0; }
	#map { height: 70%; }
</style>


</head>
<body>
			<h1>Map Test</h1>
			<div id="map"></div>

	<div id="container">
	<h2>Weather Application</h2>

	<!-- Script fills in the location for this h3 element -->
	<h3 id="location"></h3>

	<!-- Row for population of weather results by runGetWeather function -->
	<div id="row-forecast"></div>
	
	<!-- Users can change location for 3-day weather forecast -->
	<form id="search-form"> 
		<input type="text" id="latitude" name="latitude" placeholder="Enter Latitude">
		<input type="text" id="longitude" name="longitude" placeholder="Enter Longitude">
		<input type="submit" id="submit" name="submit">
	</form>
	
	<div id="map-canvas"></div>
</div>



<script type="text/javascript">
	var map;
    function initMap() {		
		map = new google.maps.Map(document.getElementById("map"), {
			center: { lat: 29.423017, lng: -98.48527 },
				zoom: 8,
			});
		}
		$("#search-form").submit(function (e) {
		// Below prevents form's sending data to server
		e.preventDefault();
		var myLat = $("#latitude").val();
		var myLng = $("#longitude").val();
		var myLatLng = new google.maps.LatLng(myLat, myLng);
		console.log(myLatLng + " in listener");
		    
		runGetWeather(myLat, myLng);
		makeMap(myLatLng);
	});
</script>

<script type="text/javascript" src="/js/jquery-2.1.4.min.js"></script>

<script async defer 
	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxUSItzykbT3kW7x2tl-wR3XDx9KPiskE&callback=initMap">
</script>

</body>
</html>
