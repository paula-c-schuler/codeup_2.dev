<!-- EXERCISE EXTRA IN JavaScript first -->
<!-- EXERCISE EXTRA Refactor with jQuery - Nothing could be refactored. -->
<html>
<head>
	<title>konami</title>
	<!-- up up down down left right left right b a b a enter  -->
	<!-- 38, 40, 38, 40, 37, 39, 37, 39, 66, 65, 66, 65, 13 -->
	<!-- NOTES TO SELF FROM LECTURE: "It is easier to check string to string" -->

</head>
<body id="game">
	<h1>Can you match the secret code?</h1>


<script type="text/javascript">
	"use strict";

	var konamiArray = [38, 40, 38, 40, 37, 39, 37, 39, 66, 65, 66, 65, 13];

	var userArray = [];

	var testArray = [];

	var listener = function (event) {
		userArray.push(event.keyCode);

		for (var i = 0; i < konamiArray.length; i++) {
			for (var j = 0; j < userArray.length; j++) {
				if (userArray.length == konamiArray.length) {
					if(userArray[j] == konamiArray[i]) {
					console.log("You get 30 lives.");
				} else {
					console.log("No match yet.");
				}
				}
				if (userArray.length > konamiArray.length) {
					testArray = userArray.slice(-13);
					console.log(testArray + " is testArray");
					for (var k = 0; k < testArray.length; k++) {
						if (testArray[k] == konamiArray[i]) {
							console.log("The testArray matches konamiArray");
						}
					}
				}
			}
		}
	}

	// add event listener to button 1
	var body = document.getElementById('game');
	body.addEventListener('keyup', listener, false);

</script>
</body>
</html>
